<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.Description }}{{ end }}">

<!-- Otimizações de Performance -->
{{ partial "performance.html" . }}

<!-- CSS Principal -->
<link rel="stylesheet" href="{{ "css/main.css" | relURL }}?v={{ now.Unix }}">

<!-- Fontes locais -->
<link rel="stylesheet" href="{{ "vendor/fonts/fonts.css" | relURL }}?v={{ now.Unix }}">

<!-- Prism.js local para syntax highlighting -->
<link rel="stylesheet" href="{{ "vendor/prism/prism-tomorrow.min.css" | relURL }}?v={{ now.Unix }}">

{{ if .Site.Params.mermaid }}
<!-- Mermaid local para diagramas -->
<script src="{{ "vendor/mermaid/mermaid.min.js" | relURL }}?v={{ now.Unix }}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        mermaid.initialize({
            startOnLoad: true,
            theme: '{{ .Site.Params.mermaid.theme }}',
            align: '{{ .Site.Params.mermaid.align }}'
        });
    });
</script>
{{ end }}

<!-- Service Worker Registration -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('{{ "sw.js" | relURL }}')
                .then(function(registration) {
                    console.log('Service Worker registrado com sucesso:', registration.scope);
                })
                .catch(function(error) {
                    console.log('Falha no registro do Service Worker:', error);
                });
        });
    }
</script> 